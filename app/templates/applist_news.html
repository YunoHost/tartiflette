{% extends "base.html" %}
{% block content %}

<div class="row">
	
	<div class="col-10 mx-3">
		<link rel="alternate" type="application/rss+xml" title="YNH Catalog News" href="{{ url_for('main.appsobservatory_news_rss')}}" />
		<a href="{{ url_for('main.appsobservatory_news_rss')}}" class = "btn btn-sm mb-3 py-2 px-3 btn-warning btn-rss text-uppercase font-weight-bold"><i class="oi oi-rss-alt pr-1" aria-hidden="true"></i>Suscribe via RSS</a>		
	</div>
	
    <div class="col-10 offset-1">
                        
        {% for date, news in news_per_date %}

            <h2>{{ date }}</h2>

            <ul>
            {% for app in news["added"] %}
            {# MEMO: app list's indexes correspond to [0] - app name, [1] - app url, [2] - app Github branch name, [3] - app description (keywords), [4] - app readme in HTML #}
                <li>
                    <span class="badge bg-primary" style="color: white;"><i class="oi oi-plus pr-1" aria-hidden="true"></i>Added</span>
                    <a href="{{app[1]}}">{{app[0]}}</a>
                </li>
            {% endfor %}
            {% for app in news["repaired"] %}
                <li>
                    <span class="badge bg-success" style="color: white;"><i class="oi oi-circle-check pr-1" aria-hidden="true"></i>Repaired</span>
                    <a href="{{app[1]}}">{{app[0]}}</a>
                </li>
            {% endfor %}
            {% for app in news["broke"] %}
                <li>
                    <span class="badge bg-warning" style="color: white;"><i class="oi oi-warning pr-1" aria-hidden="true"></i>Broke</span>
                    <a href="{{app[1]}}">{{app[0]}}</a>
                </li>
            {% endfor %}
            {% for app in news["removed"] %}
                <li>
                    <span class="badge bg-danger" style="color: white;"><i class="oi oi-circle-x pr-1" aria-hidden="true"></i>Removed</span>
                    <a href="{{app[1]}}">{{app[0]}}</a>
                </li>
            {% endfor %}
            </ul>
            
        {% endfor %}

    </div>
</div>
 
{% endblock %}
